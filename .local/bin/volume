#!/usr/bin/env bash

function get_volume(){
    pactl get-sink-volume @DEFAULT_SINK@ | grep '^Volume:' | cut -d / -f 2 | tr -d ' ' | sed 's/%//'
}

function is_mute(){
    pactl get-sink-mute @DEFAULT_SINK@ | cut -d: -f2 | tr -d ' '
}

function is_mute_mic(){
    pactl get-source-mute @DEFAULT_SOURCE@ | cut -d: -f2 | tr -d ' '
}

case $1 in
    value)
        get_volume
    ;;
    value_percentage)
        echo "$(get_volume)%"
    ;;
    up)
        pactl set-sink-volume @DEFAULT_SINK@ +5%
    ;;
    down)
        pactl set-sink-volume @DEFAULT_SINK@ -5%
    ;;
    mute)
        pactl set-sink-mute @DEFAULT_SINK@ toggle
        is_mute
    ;;
    is_mute)
        is_mute
    ;;
    is_mute_mic)
        is_mute_mic
    ;;
    mute_mic)
        pactl set-source-mute @DEFAULT_SOURCE@ toggle
        is_mute_mic
    ;;
	*)
		echo "usage: volume [OPTIONS]
		
OPTIONS
    value
    value_percentage
    up
    down
    mute
    mute_mic
    is_mute
    is_mute_mic
"
	;;
esac

